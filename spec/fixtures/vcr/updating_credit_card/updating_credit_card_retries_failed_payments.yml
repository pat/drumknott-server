---
http_interactions:
- request:
    method: get
    uri: https://api.stripe.com/v1/customers
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:26 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '7524'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_JmXLU7Q4oMCDdR
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "object": "list",
          "data": [
            {
              "id": "cus_ILmtvmNWjqm193",
              "object": "customer",
              "account_balance": 0,
              "address": null,
              "balance": 0,
              "created": 1604808940,
              "currency": "usd",
              "default_source": "card_0Hl5WYkKe4kFpYbdtG6wVIDS",
              "delinquent": false,
              "description": null,
              "discount": null,
              "email": "search0002@drumknottsearch.com",
              "invoice_prefix": "4412C5F6",
              "invoice_settings": {
                "custom_fields": null,
                "default_payment_method": null,
                "footer": null
              },
              "livemode": false,
              "metadata": {
              },
              "name": null,
              "next_invoice_sequence": 3,
              "phone": null,
              "preferred_locales": [

              ],
              "shipping": null,
              "sources": {
                "object": "list",
                "data": [
                  {
                    "id": "card_0Hl5WYkKe4kFpYbdtG6wVIDS",
                    "object": "card",
                    "address_city": null,
                    "address_country": null,
                    "address_line1": null,
                    "address_line1_check": null,
                    "address_line2": null,
                    "address_state": null,
                    "address_zip": null,
                    "address_zip_check": null,
                    "brand": "MasterCard",
                    "country": "US",
                    "customer": "cus_ILmtvmNWjqm193",
                    "cvc_check": "pass",
                    "dynamic_last4": null,
                    "exp_month": 1,
                    "exp_year": 2022,
                    "fingerprint": "u2XCpbKocAAd1E7E",
                    "funding": "credit",
                    "last4": "4444",
                    "metadata": {
                    },
                    "name": null,
                    "tokenization_method": null
                  }
                ],
                "has_more": false,
                "total_count": 1,
                "url": "/v1/customers/cus_ILmtvmNWjqm193/sources"
              },
              "subscriptions": {
                "object": "list",
                "data": [
                  {
                    "id": "sub_ILmtxISgzgzQGF",
                    "object": "subscription",
                    "application_fee_percent": null,
                    "billing": "charge_automatically",
                    "billing_cycle_anchor": 1604808951,
                    "billing_thresholds": null,
                    "cancel_at": null,
                    "cancel_at_period_end": false,
                    "canceled_at": null,
                    "collection_method": "charge_automatically",
                    "created": 1604808944,
                    "current_period_end": 1607400951,
                    "current_period_start": 1604808951,
                    "customer": "cus_ILmtvmNWjqm193",
                    "days_until_due": null,
                    "default_payment_method": null,
                    "default_source": null,
                    "default_tax_rates": [

                    ],
                    "discount": null,
                    "ended_at": null,
                    "invoice_customer_balance_settings": {
                      "consume_applied_balance_on_void": true
                    },
                    "items": {
                      "object": "list",
                      "data": [
                        {
                          "id": "si_ILmtF62L3AFYPd",
                          "object": "subscription_item",
                          "billing_thresholds": null,
                          "created": 1604808944,
                          "metadata": {
                          },
                          "plan": {
                            "id": "drumknott",
                            "object": "plan",
                            "active": true,
                            "aggregate_usage": null,
                            "amount": 300,
                            "amount_decimal": "300",
                            "billing_scheme": "per_unit",
                            "created": 1604808940,
                            "currency": "usd",
                            "interval": "month",
                            "interval_count": 1,
                            "livemode": false,
                            "metadata": {
                            },
                            "name": "Drumknott Test",
                            "nickname": null,
                            "product": "prod_ILmtbtc0QMrDtG",
                            "statement_descriptor": null,
                            "tiers": null,
                            "tiers_mode": null,
                            "transform_usage": null,
                            "trial_period_days": null,
                            "usage_type": "licensed"
                          },
                          "price": {
                            "id": "drumknott",
                            "object": "price",
                            "active": true,
                            "billing_scheme": "per_unit",
                            "created": 1604808940,
                            "currency": "usd",
                            "livemode": false,
                            "lookup_key": null,
                            "metadata": {
                            },
                            "nickname": null,
                            "product": "prod_ILmtbtc0QMrDtG",
                            "recurring": {
                              "aggregate_usage": null,
                              "interval": "month",
                              "interval_count": 1,
                              "trial_period_days": null,
                              "usage_type": "licensed"
                            },
                            "tiers_mode": null,
                            "transform_quantity": null,
                            "type": "recurring",
                            "unit_amount": 300,
                            "unit_amount_decimal": "300"
                          },
                          "quantity": 1,
                          "subscription": "sub_ILmtxISgzgzQGF",
                          "tax_rates": [

                          ]
                        }
                      ],
                      "has_more": false,
                      "total_count": 1,
                      "url": "/v1/subscription_items?subscription=sub_ILmtxISgzgzQGF"
                    },
                    "latest_invoice": "in_0Hl5LQkKe4kFpYbda86jVXm4",
                    "livemode": false,
                    "metadata": {
                    },
                    "next_pending_invoice_item_invoice": null,
                    "pause_collection": null,
                    "pending_invoice_item_interval": null,
                    "pending_setup_intent": null,
                    "pending_update": null,
                    "plan": {
                      "id": "drumknott",
                      "object": "plan",
                      "active": true,
                      "aggregate_usage": null,
                      "amount": 300,
                      "amount_decimal": "300",
                      "billing_scheme": "per_unit",
                      "created": 1604808940,
                      "currency": "usd",
                      "interval": "month",
                      "interval_count": 1,
                      "livemode": false,
                      "metadata": {
                      },
                      "name": "Drumknott Test",
                      "nickname": null,
                      "product": "prod_ILmtbtc0QMrDtG",
                      "statement_descriptor": null,
                      "tiers": null,
                      "tiers_mode": null,
                      "transform_usage": null,
                      "trial_period_days": null,
                      "usage_type": "licensed"
                    },
                    "quantity": 1,
                    "schedule": null,
                    "start": 1604808944,
                    "start_date": 1604808944,
                    "status": "active",
                    "tax_percent": null,
                    "transfer_data": null,
                    "trial_end": 1604808951,
                    "trial_start": 1604808944
                  }
                ],
                "has_more": false,
                "total_count": 1,
                "url": "/v1/customers/cus_ILmtvmNWjqm193/subscriptions"
              },
              "tax_exempt": "none",
              "tax_ids": {
                "object": "list",
                "data": [

                ],
                "has_more": false,
                "total_count": 0,
                "url": "/v1/customers/cus_ILmtvmNWjqm193/tax_ids"
              },
              "tax_info": null,
              "tax_info_verification": null
            }
          ],
          "has_more": false,
          "url": "/v1/customers"
        }
  recorded_at: Sun, 08 Nov 2020 04:32:26 GMT
- request:
    method: delete
    uri: https://api.stripe.com/v1/customers/cus_ILmtvmNWjqm193
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_JmXLU7Q4oMCDdR","request_duration_ms":361}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:26 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '76'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_fuiZ0v8A4XZX9n
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "cus_ILmtvmNWjqm193",
          "object": "customer",
          "deleted": true
        }
  recorded_at: Sun, 08 Nov 2020 04:32:26 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/coupons
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_fuiZ0v8A4XZX9n","request_duration_ms":449}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:26 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '86'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_SsbiIWnNfEKHFH
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "object": "list",
          "data": [

          ],
          "has_more": false,
          "url": "/v1/coupons"
        }
  recorded_at: Sun, 08 Nov 2020 04:32:26 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/plans
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_SsbiIWnNfEKHFH","request_duration_ms":266}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:27 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '721'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_DMlvdYmsFDPujF
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "object": "list",
          "data": [
            {
              "id": "drumknott",
              "object": "plan",
              "active": true,
              "aggregate_usage": null,
              "amount": 300,
              "amount_decimal": "300",
              "billing_scheme": "per_unit",
              "created": 1604808940,
              "currency": "usd",
              "interval": "month",
              "interval_count": 1,
              "livemode": false,
              "metadata": {
              },
              "name": "Drumknott Test",
              "nickname": null,
              "product": "prod_ILmtbtc0QMrDtG",
              "statement_descriptor": null,
              "tiers": null,
              "tiers_mode": null,
              "transform_usage": null,
              "trial_period_days": null,
              "usage_type": "licensed"
            }
          ],
          "has_more": false,
          "url": "/v1/plans"
        }
  recorded_at: Sun, 08 Nov 2020 04:32:27 GMT
- request:
    method: delete
    uri: https://api.stripe.com/v1/plans/drumknott
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_DMlvdYmsFDPujF","request_duration_ms":266}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:27 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '63'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_XzlSHqMyb8EwTc
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "drumknott",
          "object": "plan",
          "deleted": true
        }
  recorded_at: Sun, 08 Nov 2020 04:32:27 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/plans
    body:
      encoding: UTF-8
      string: id=drumknott&amount=300&currency=USD&interval=month&interval_count=1&name=Drumknott+Test
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_XzlSHqMyb8EwTc","request_duration_ms":380}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:27 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '538'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_qrq4iuCBwpn9NI
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "drumknott",
          "object": "plan",
          "active": true,
          "aggregate_usage": null,
          "amount": 300,
          "amount_decimal": "300",
          "billing_scheme": "per_unit",
          "created": 1604809947,
          "currency": "usd",
          "interval": "month",
          "interval_count": 1,
          "livemode": false,
          "metadata": {
          },
          "name": "Drumknott Test",
          "nickname": null,
          "product": "prod_ILnAkJFwBWFPnl",
          "statement_descriptor": null,
          "tiers": null,
          "tiers_mode": null,
          "transform_usage": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        }
  recorded_at: Sun, 08 Nov 2020 04:32:27 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/customers
    body:
      encoding: UTF-8
      string: email=search0001%40drumknottsearch.com
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_qrq4iuCBwpn9NI","request_duration_ms":408}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:28 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1175'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_6X1y7nn8Uau7Dk
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "cus_ILnA8hEg5qpyUR",
          "object": "customer",
          "account_balance": 0,
          "address": null,
          "balance": 0,
          "created": 1604809948,
          "currency": null,
          "default_source": null,
          "delinquent": false,
          "description": null,
          "discount": null,
          "email": "search0001@drumknottsearch.com",
          "invoice_prefix": "CC96CBAB",
          "invoice_settings": {
            "custom_fields": null,
            "default_payment_method": null,
            "footer": null
          },
          "livemode": false,
          "metadata": {
          },
          "name": null,
          "next_invoice_sequence": 1,
          "phone": null,
          "preferred_locales": [

          ],
          "shipping": null,
          "sources": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/sources"
          },
          "subscriptions": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/subscriptions"
          },
          "tax_exempt": "none",
          "tax_ids": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/tax_ids"
          },
          "tax_info": null,
          "tax_info_verification": null
        }
  recorded_at: Sun, 08 Nov 2020 04:32:28 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/tokens
    body:
      encoding: UTF-8
      string: card[number]=4000000000000341&card[exp_month]=1&card[exp_year]=2022&card[cvc]=123
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_6X1y7nn8Uau7Dk","request_duration_ms":356}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:28 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '786'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_xCEhuzpJcajFYP
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "tok_0Hl5ZokKe4kFpYbdAx6zXZwG",
          "object": "token",
          "card": {
            "id": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
            "object": "card",
            "address_city": null,
            "address_country": null,
            "address_line1": null,
            "address_line1_check": null,
            "address_line2": null,
            "address_state": null,
            "address_zip": null,
            "address_zip_check": null,
            "brand": "Visa",
            "country": "US",
            "cvc_check": "unchecked",
            "dynamic_last4": null,
            "exp_month": 1,
            "exp_year": 2022,
            "fingerprint": "22Vkbw4tr8xDhC2Q",
            "funding": "credit",
            "last4": "0341",
            "metadata": {
            },
            "name": null,
            "tokenization_method": null
          },
          "client_ip": "180.150.37.105",
          "created": 1604809948,
          "livemode": false,
          "type": "card",
          "used": false
        }
  recorded_at: Sun, 08 Nov 2020 04:32:28 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/customers/cus_ILnA8hEg5qpyUR/sources
    body:
      encoding: UTF-8
      string: source=tok_0Hl5ZokKe4kFpYbdAx6zXZwG
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_xCEhuzpJcajFYP","request_duration_ms":569}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:29 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '580'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_S8zK2UaEsWXlG1
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
          "object": "card",
          "address_city": null,
          "address_country": null,
          "address_line1": null,
          "address_line1_check": null,
          "address_line2": null,
          "address_state": null,
          "address_zip": null,
          "address_zip_check": null,
          "brand": "Visa",
          "country": "US",
          "customer": "cus_ILnA8hEg5qpyUR",
          "cvc_check": "pass",
          "dynamic_last4": null,
          "exp_month": 1,
          "exp_year": 2022,
          "fingerprint": "22Vkbw4tr8xDhC2Q",
          "funding": "credit",
          "last4": "0341",
          "metadata": {
          },
          "name": null,
          "tokenization_method": null
        }
  recorded_at: Sun, 08 Nov 2020 04:32:29 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/customers/cus_ILnA8hEg5qpyUR
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_S8zK2UaEsWXlG1","request_duration_ms":654}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:29 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1937'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_dCAg7wHOGRb5kV
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "cus_ILnA8hEg5qpyUR",
          "object": "customer",
          "account_balance": 0,
          "address": null,
          "balance": 0,
          "created": 1604809948,
          "currency": null,
          "default_source": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
          "delinquent": false,
          "description": null,
          "discount": null,
          "email": "search0001@drumknottsearch.com",
          "invoice_prefix": "CC96CBAB",
          "invoice_settings": {
            "custom_fields": null,
            "default_payment_method": null,
            "footer": null
          },
          "livemode": false,
          "metadata": {
          },
          "name": null,
          "next_invoice_sequence": 1,
          "phone": null,
          "preferred_locales": [

          ],
          "shipping": null,
          "sources": {
            "object": "list",
            "data": [
              {
                "id": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
                "object": "card",
                "address_city": null,
                "address_country": null,
                "address_line1": null,
                "address_line1_check": null,
                "address_line2": null,
                "address_state": null,
                "address_zip": null,
                "address_zip_check": null,
                "brand": "Visa",
                "country": "US",
                "customer": "cus_ILnA8hEg5qpyUR",
                "cvc_check": "pass",
                "dynamic_last4": null,
                "exp_month": 1,
                "exp_year": 2022,
                "fingerprint": "22Vkbw4tr8xDhC2Q",
                "funding": "credit",
                "last4": "0341",
                "metadata": {
                },
                "name": null,
                "tokenization_method": null
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/sources"
          },
          "subscriptions": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/subscriptions"
          },
          "tax_exempt": "none",
          "tax_ids": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/tax_ids"
          },
          "tax_info": null,
          "tax_info_verification": null
        }
  recorded_at: Sun, 08 Nov 2020 04:32:29 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/customers/cus_ILnA8hEg5qpyUR
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_dCAg7wHOGRb5kV","request_duration_ms":320}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:30 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1937'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_YIAgSUP6hZ6faQ
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "cus_ILnA8hEg5qpyUR",
          "object": "customer",
          "account_balance": 0,
          "address": null,
          "balance": 0,
          "created": 1604809948,
          "currency": null,
          "default_source": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
          "delinquent": false,
          "description": null,
          "discount": null,
          "email": "search0001@drumknottsearch.com",
          "invoice_prefix": "CC96CBAB",
          "invoice_settings": {
            "custom_fields": null,
            "default_payment_method": null,
            "footer": null
          },
          "livemode": false,
          "metadata": {
          },
          "name": null,
          "next_invoice_sequence": 1,
          "phone": null,
          "preferred_locales": [

          ],
          "shipping": null,
          "sources": {
            "object": "list",
            "data": [
              {
                "id": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
                "object": "card",
                "address_city": null,
                "address_country": null,
                "address_line1": null,
                "address_line1_check": null,
                "address_line2": null,
                "address_state": null,
                "address_zip": null,
                "address_zip_check": null,
                "brand": "Visa",
                "country": "US",
                "customer": "cus_ILnA8hEg5qpyUR",
                "cvc_check": "pass",
                "dynamic_last4": null,
                "exp_month": 1,
                "exp_year": 2022,
                "fingerprint": "22Vkbw4tr8xDhC2Q",
                "funding": "credit",
                "last4": "0341",
                "metadata": {
                },
                "name": null,
                "tokenization_method": null
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/sources"
          },
          "subscriptions": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/subscriptions"
          },
          "tax_exempt": "none",
          "tax_ids": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/tax_ids"
          },
          "tax_info": null,
          "tax_info_verification": null
        }
  recorded_at: Sun, 08 Nov 2020 04:32:30 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/customers/cus_ILnA8hEg5qpyUR/subscriptions
    body:
      encoding: UTF-8
      string: plan=drumknott&trial_end=1604809957
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_YIAgSUP6hZ6faQ","request_duration_ms":423}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:31 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '3768'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_13ksUb6Bs5havc
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "sub_ILnAvFF0Nttpv1",
          "object": "subscription",
          "application_fee_percent": null,
          "billing": "charge_automatically",
          "billing_cycle_anchor": 1604809957,
          "billing_thresholds": null,
          "cancel_at": null,
          "cancel_at_period_end": false,
          "canceled_at": null,
          "collection_method": "charge_automatically",
          "created": 1604809950,
          "current_period_end": 1604809957,
          "current_period_start": 1604809950,
          "customer": "cus_ILnA8hEg5qpyUR",
          "days_until_due": null,
          "default_payment_method": null,
          "default_source": null,
          "default_tax_rates": [

          ],
          "discount": null,
          "ended_at": null,
          "invoice_customer_balance_settings": {
            "consume_applied_balance_on_void": true
          },
          "items": {
            "object": "list",
            "data": [
              {
                "id": "si_ILnAa4Tj8QPH2X",
                "object": "subscription_item",
                "billing_thresholds": null,
                "created": 1604809951,
                "metadata": {
                },
                "plan": {
                  "id": "drumknott",
                  "object": "plan",
                  "active": true,
                  "aggregate_usage": null,
                  "amount": 300,
                  "amount_decimal": "300",
                  "billing_scheme": "per_unit",
                  "created": 1604809947,
                  "currency": "usd",
                  "interval": "month",
                  "interval_count": 1,
                  "livemode": false,
                  "metadata": {
                  },
                  "name": "Drumknott Test",
                  "nickname": null,
                  "product": "prod_ILnAkJFwBWFPnl",
                  "statement_descriptor": null,
                  "tiers": null,
                  "tiers_mode": null,
                  "transform_usage": null,
                  "trial_period_days": null,
                  "usage_type": "licensed"
                },
                "price": {
                  "id": "drumknott",
                  "object": "price",
                  "active": true,
                  "billing_scheme": "per_unit",
                  "created": 1604809947,
                  "currency": "usd",
                  "livemode": false,
                  "lookup_key": null,
                  "metadata": {
                  },
                  "nickname": null,
                  "product": "prod_ILnAkJFwBWFPnl",
                  "recurring": {
                    "aggregate_usage": null,
                    "interval": "month",
                    "interval_count": 1,
                    "trial_period_days": null,
                    "usage_type": "licensed"
                  },
                  "tiers_mode": null,
                  "transform_quantity": null,
                  "type": "recurring",
                  "unit_amount": 300,
                  "unit_amount_decimal": "300"
                },
                "quantity": 1,
                "subscription": "sub_ILnAvFF0Nttpv1",
                "tax_rates": [

                ]
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/subscription_items?subscription=sub_ILnAvFF0Nttpv1"
          },
          "latest_invoice": "in_0Hl5ZqkKe4kFpYbdf7CLEZ5i",
          "livemode": false,
          "metadata": {
          },
          "next_pending_invoice_item_invoice": null,
          "pause_collection": null,
          "pending_invoice_item_interval": null,
          "pending_setup_intent": null,
          "pending_update": null,
          "plan": {
            "id": "drumknott",
            "object": "plan",
            "active": true,
            "aggregate_usage": null,
            "amount": 300,
            "amount_decimal": "300",
            "billing_scheme": "per_unit",
            "created": 1604809947,
            "currency": "usd",
            "interval": "month",
            "interval_count": 1,
            "livemode": false,
            "metadata": {
            },
            "name": "Drumknott Test",
            "nickname": null,
            "product": "prod_ILnAkJFwBWFPnl",
            "statement_descriptor": null,
            "tiers": null,
            "tiers_mode": null,
            "transform_usage": null,
            "trial_period_days": null,
            "usage_type": "licensed"
          },
          "quantity": 1,
          "schedule": null,
          "start": 1604809950,
          "start_date": 1604809950,
          "status": "trialing",
          "tax_percent": null,
          "transfer_data": null,
          "trial_end": 1604809957,
          "trial_start": 1604809950
        }
  recorded_at: Sun, 08 Nov 2020 04:32:31 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/customers/cus_ILnA8hEg5qpyUR
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_13ksUb6Bs5havc","request_duration_ms":1023}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:32:31 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '6545'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_2ygDZWdRAKmkKA
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "cus_ILnA8hEg5qpyUR",
          "object": "customer",
          "account_balance": 0,
          "address": null,
          "balance": 0,
          "created": 1604809948,
          "currency": "usd",
          "default_source": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
          "delinquent": false,
          "description": null,
          "discount": null,
          "email": "search0001@drumknottsearch.com",
          "invoice_prefix": "CC96CBAB",
          "invoice_settings": {
            "custom_fields": null,
            "default_payment_method": null,
            "footer": null
          },
          "livemode": false,
          "metadata": {
          },
          "name": null,
          "next_invoice_sequence": 2,
          "phone": null,
          "preferred_locales": [

          ],
          "shipping": null,
          "sources": {
            "object": "list",
            "data": [
              {
                "id": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
                "object": "card",
                "address_city": null,
                "address_country": null,
                "address_line1": null,
                "address_line1_check": null,
                "address_line2": null,
                "address_state": null,
                "address_zip": null,
                "address_zip_check": null,
                "brand": "Visa",
                "country": "US",
                "customer": "cus_ILnA8hEg5qpyUR",
                "cvc_check": "pass",
                "dynamic_last4": null,
                "exp_month": 1,
                "exp_year": 2022,
                "fingerprint": "22Vkbw4tr8xDhC2Q",
                "funding": "credit",
                "last4": "0341",
                "metadata": {
                },
                "name": null,
                "tokenization_method": null
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/sources"
          },
          "subscriptions": {
            "object": "list",
            "data": [
              {
                "id": "sub_ILnAvFF0Nttpv1",
                "object": "subscription",
                "application_fee_percent": null,
                "billing": "charge_automatically",
                "billing_cycle_anchor": 1604809957,
                "billing_thresholds": null,
                "cancel_at": null,
                "cancel_at_period_end": false,
                "canceled_at": null,
                "collection_method": "charge_automatically",
                "created": 1604809950,
                "current_period_end": 1604809957,
                "current_period_start": 1604809950,
                "customer": "cus_ILnA8hEg5qpyUR",
                "days_until_due": null,
                "default_payment_method": null,
                "default_source": null,
                "default_tax_rates": [

                ],
                "discount": null,
                "ended_at": null,
                "invoice_customer_balance_settings": {
                  "consume_applied_balance_on_void": true
                },
                "items": {
                  "object": "list",
                  "data": [
                    {
                      "id": "si_ILnAa4Tj8QPH2X",
                      "object": "subscription_item",
                      "billing_thresholds": null,
                      "created": 1604809951,
                      "metadata": {
                      },
                      "plan": {
                        "id": "drumknott",
                        "object": "plan",
                        "active": true,
                        "aggregate_usage": null,
                        "amount": 300,
                        "amount_decimal": "300",
                        "billing_scheme": "per_unit",
                        "created": 1604809947,
                        "currency": "usd",
                        "interval": "month",
                        "interval_count": 1,
                        "livemode": false,
                        "metadata": {
                        },
                        "name": "Drumknott Test",
                        "nickname": null,
                        "product": "prod_ILnAkJFwBWFPnl",
                        "statement_descriptor": null,
                        "tiers": null,
                        "tiers_mode": null,
                        "transform_usage": null,
                        "trial_period_days": null,
                        "usage_type": "licensed"
                      },
                      "price": {
                        "id": "drumknott",
                        "object": "price",
                        "active": true,
                        "billing_scheme": "per_unit",
                        "created": 1604809947,
                        "currency": "usd",
                        "livemode": false,
                        "lookup_key": null,
                        "metadata": {
                        },
                        "nickname": null,
                        "product": "prod_ILnAkJFwBWFPnl",
                        "recurring": {
                          "aggregate_usage": null,
                          "interval": "month",
                          "interval_count": 1,
                          "trial_period_days": null,
                          "usage_type": "licensed"
                        },
                        "tiers_mode": null,
                        "transform_quantity": null,
                        "type": "recurring",
                        "unit_amount": 300,
                        "unit_amount_decimal": "300"
                      },
                      "quantity": 1,
                      "subscription": "sub_ILnAvFF0Nttpv1",
                      "tax_rates": [

                      ]
                    }
                  ],
                  "has_more": false,
                  "total_count": 1,
                  "url": "/v1/subscription_items?subscription=sub_ILnAvFF0Nttpv1"
                },
                "latest_invoice": "in_0Hl5ZqkKe4kFpYbdf7CLEZ5i",
                "livemode": false,
                "metadata": {
                },
                "next_pending_invoice_item_invoice": null,
                "pause_collection": null,
                "pending_invoice_item_interval": null,
                "pending_setup_intent": null,
                "pending_update": null,
                "plan": {
                  "id": "drumknott",
                  "object": "plan",
                  "active": true,
                  "aggregate_usage": null,
                  "amount": 300,
                  "amount_decimal": "300",
                  "billing_scheme": "per_unit",
                  "created": 1604809947,
                  "currency": "usd",
                  "interval": "month",
                  "interval_count": 1,
                  "livemode": false,
                  "metadata": {
                  },
                  "name": "Drumknott Test",
                  "nickname": null,
                  "product": "prod_ILnAkJFwBWFPnl",
                  "statement_descriptor": null,
                  "tiers": null,
                  "tiers_mode": null,
                  "transform_usage": null,
                  "trial_period_days": null,
                  "usage_type": "licensed"
                },
                "quantity": 1,
                "schedule": null,
                "start": 1604809950,
                "start_date": 1604809950,
                "status": "trialing",
                "tax_percent": null,
                "transfer_data": null,
                "trial_end": 1604809957,
                "trial_start": 1604809950
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/subscriptions"
          },
          "tax_exempt": "none",
          "tax_ids": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/tax_ids"
          },
          "tax_info": null,
          "tax_info_verification": null
        }
  recorded_at: Sun, 08 Nov 2020 04:32:31 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/customers/cus_ILnA8hEg5qpyUR
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_2ygDZWdRAKmkKA","request_duration_ms":512}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:38:32 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '6543'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_fT5swT52oaxHxz
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "cus_ILnA8hEg5qpyUR",
          "object": "customer",
          "account_balance": 0,
          "address": null,
          "balance": 0,
          "created": 1604809948,
          "currency": "usd",
          "default_source": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
          "delinquent": false,
          "description": null,
          "discount": null,
          "email": "search0001@drumknottsearch.com",
          "invoice_prefix": "CC96CBAB",
          "invoice_settings": {
            "custom_fields": null,
            "default_payment_method": null,
            "footer": null
          },
          "livemode": false,
          "metadata": {
          },
          "name": null,
          "next_invoice_sequence": 3,
          "phone": null,
          "preferred_locales": [

          ],
          "shipping": null,
          "sources": {
            "object": "list",
            "data": [
              {
                "id": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
                "object": "card",
                "address_city": null,
                "address_country": null,
                "address_line1": null,
                "address_line1_check": null,
                "address_line2": null,
                "address_state": null,
                "address_zip": null,
                "address_zip_check": null,
                "brand": "Visa",
                "country": "US",
                "customer": "cus_ILnA8hEg5qpyUR",
                "cvc_check": "pass",
                "dynamic_last4": null,
                "exp_month": 1,
                "exp_year": 2022,
                "fingerprint": "22Vkbw4tr8xDhC2Q",
                "funding": "credit",
                "last4": "0341",
                "metadata": {
                },
                "name": null,
                "tokenization_method": null
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/sources"
          },
          "subscriptions": {
            "object": "list",
            "data": [
              {
                "id": "sub_ILnAvFF0Nttpv1",
                "object": "subscription",
                "application_fee_percent": null,
                "billing": "charge_automatically",
                "billing_cycle_anchor": 1604809957,
                "billing_thresholds": null,
                "cancel_at": null,
                "cancel_at_period_end": false,
                "canceled_at": null,
                "collection_method": "charge_automatically",
                "created": 1604809950,
                "current_period_end": 1607401957,
                "current_period_start": 1604809957,
                "customer": "cus_ILnA8hEg5qpyUR",
                "days_until_due": null,
                "default_payment_method": null,
                "default_source": null,
                "default_tax_rates": [

                ],
                "discount": null,
                "ended_at": null,
                "invoice_customer_balance_settings": {
                  "consume_applied_balance_on_void": true
                },
                "items": {
                  "object": "list",
                  "data": [
                    {
                      "id": "si_ILnAa4Tj8QPH2X",
                      "object": "subscription_item",
                      "billing_thresholds": null,
                      "created": 1604809951,
                      "metadata": {
                      },
                      "plan": {
                        "id": "drumknott",
                        "object": "plan",
                        "active": true,
                        "aggregate_usage": null,
                        "amount": 300,
                        "amount_decimal": "300",
                        "billing_scheme": "per_unit",
                        "created": 1604809947,
                        "currency": "usd",
                        "interval": "month",
                        "interval_count": 1,
                        "livemode": false,
                        "metadata": {
                        },
                        "name": "Drumknott Test",
                        "nickname": null,
                        "product": "prod_ILnAkJFwBWFPnl",
                        "statement_descriptor": null,
                        "tiers": null,
                        "tiers_mode": null,
                        "transform_usage": null,
                        "trial_period_days": null,
                        "usage_type": "licensed"
                      },
                      "price": {
                        "id": "drumknott",
                        "object": "price",
                        "active": true,
                        "billing_scheme": "per_unit",
                        "created": 1604809947,
                        "currency": "usd",
                        "livemode": false,
                        "lookup_key": null,
                        "metadata": {
                        },
                        "nickname": null,
                        "product": "prod_ILnAkJFwBWFPnl",
                        "recurring": {
                          "aggregate_usage": null,
                          "interval": "month",
                          "interval_count": 1,
                          "trial_period_days": null,
                          "usage_type": "licensed"
                        },
                        "tiers_mode": null,
                        "transform_quantity": null,
                        "type": "recurring",
                        "unit_amount": 300,
                        "unit_amount_decimal": "300"
                      },
                      "quantity": 1,
                      "subscription": "sub_ILnAvFF0Nttpv1",
                      "tax_rates": [

                      ]
                    }
                  ],
                  "has_more": false,
                  "total_count": 1,
                  "url": "/v1/subscription_items?subscription=sub_ILnAvFF0Nttpv1"
                },
                "latest_invoice": "in_0Hl5aikKe4kFpYbdh65BOCrP",
                "livemode": false,
                "metadata": {
                },
                "next_pending_invoice_item_invoice": null,
                "pause_collection": null,
                "pending_invoice_item_interval": null,
                "pending_setup_intent": null,
                "pending_update": null,
                "plan": {
                  "id": "drumknott",
                  "object": "plan",
                  "active": true,
                  "aggregate_usage": null,
                  "amount": 300,
                  "amount_decimal": "300",
                  "billing_scheme": "per_unit",
                  "created": 1604809947,
                  "currency": "usd",
                  "interval": "month",
                  "interval_count": 1,
                  "livemode": false,
                  "metadata": {
                  },
                  "name": "Drumknott Test",
                  "nickname": null,
                  "product": "prod_ILnAkJFwBWFPnl",
                  "statement_descriptor": null,
                  "tiers": null,
                  "tiers_mode": null,
                  "transform_usage": null,
                  "trial_period_days": null,
                  "usage_type": "licensed"
                },
                "quantity": 1,
                "schedule": null,
                "start": 1604809950,
                "start_date": 1604809950,
                "status": "active",
                "tax_percent": null,
                "transfer_data": null,
                "trial_end": 1604809957,
                "trial_start": 1604809950
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/subscriptions"
          },
          "tax_exempt": "none",
          "tax_ids": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/tax_ids"
          },
          "tax_info": null,
          "tax_info_verification": null
        }
  recorded_at: Sun, 08 Nov 2020 04:38:32 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/invoices?customer=cus_ILnA8hEg5qpyUR
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_fT5swT52oaxHxz","request_duration_ms":426}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:38:32 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '10439'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_3pJWGSD1eL0XcX
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        ewogICJvYmplY3QiOiAibGlzdCIsCiAgImRhdGEiOiBbCiAgICB7CiAgICAgICJpZCI6ICJpbl8wSGw1YWlrS2U0a0ZwWWJkaDY1Qk9DclAiLAogICAgICAib2JqZWN0IjogImludm9pY2UiLAogICAgICAiYWNjb3VudF9jb3VudHJ5IjogIkFVIiwKICAgICAgImFjY291bnRfbmFtZSI6ICJEcnVta25vdHQgU2VhcmNoIiwKICAgICAgImFjY291bnRfdGF4X2lkcyI6IG51bGwsCiAgICAgICJhbW91bnRfZHVlIjogMzAwLAogICAgICAiYW1vdW50X3BhaWQiOiAwLAogICAgICAiYW1vdW50X3JlbWFpbmluZyI6IDMwMCwKICAgICAgImFwcGxpY2F0aW9uX2ZlZSI6IG51bGwsCiAgICAgICJhdHRlbXB0X2NvdW50IjogMCwKICAgICAgImF0dGVtcHRlZCI6IGZhbHNlLAogICAgICAiYXV0b19hZHZhbmNlIjogdHJ1ZSwKICAgICAgImJpbGxpbmciOiAiY2hhcmdlX2F1dG9tYXRpY2FsbHkiLAogICAgICAiYmlsbGluZ19yZWFzb24iOiAic3Vic2NyaXB0aW9uX2N5Y2xlIiwKICAgICAgImNoYXJnZSI6IG51bGwsCiAgICAgICJjbG9zZWQiOiBmYWxzZSwKICAgICAgImNvbGxlY3Rpb25fbWV0aG9kIjogImNoYXJnZV9hdXRvbWF0aWNhbGx5IiwKICAgICAgImNyZWF0ZWQiOiAxNjA0ODEwMDA0LAogICAgICAiY3VycmVuY3kiOiAidXNkIiwKICAgICAgImN1c3RvbV9maWVsZHMiOiBudWxsLAogICAgICAiY3VzdG9tZXIiOiAiY3VzX0lMbkE4aEVnNXFweVVSIiwKICAgICAgImN1c3RvbWVyX2FkZHJlc3MiOiBudWxsLAogICAgICAiY3VzdG9tZXJfZW1haWwiOiAic2VhcmNoMDAwMUBkcnVta25vdHRzZWFyY2guY29tIiwKICAgICAgImN1c3RvbWVyX25hbWUiOiBudWxsLAogICAgICAiY3VzdG9tZXJfcGhvbmUiOiBudWxsLAogICAgICAiY3VzdG9tZXJfc2hpcHBpbmciOiBudWxsLAogICAgICAiY3VzdG9tZXJfdGF4X2V4ZW1wdCI6ICJub25lIiwKICAgICAgImN1c3RvbWVyX3RheF9pZHMiOiBbCgogICAgICBdLAogICAgICAiZGF0ZSI6IDE2MDQ4MTAwMDQsCiAgICAgICJkZWZhdWx0X3BheW1lbnRfbWV0aG9kIjogbnVsbCwKICAgICAgImRlZmF1bHRfc291cmNlIjogbnVsbCwKICAgICAgImRlZmF1bHRfdGF4X3JhdGVzIjogWwoKICAgICAgXSwKICAgICAgImRlc2NyaXB0aW9uIjogbnVsbCwKICAgICAgImRpc2NvdW50IjogbnVsbCwKICAgICAgImRpc2NvdW50cyI6IFsKCiAgICAgIF0sCiAgICAgICJkdWVfZGF0ZSI6IG51bGwsCiAgICAgICJlbmRpbmdfYmFsYW5jZSI6IG51bGwsCiAgICAgICJmaW5hbGl6ZWRfYXQiOiBudWxsLAogICAgICAiZm9vdGVyIjogbnVsbCwKICAgICAgImZvcmdpdmVuIjogZmFsc2UsCiAgICAgICJob3N0ZWRfaW52b2ljZV91cmwiOiBudWxsLAogICAgICAiaW52b2ljZV9wZGYiOiBudWxsLAogICAgICAibGluZXMiOiB7CiAgICAgICAgIm9iamVjdCI6ICJsaXN0IiwKICAgICAgICAiZGF0YSI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgImlkIjogInN1Yl9JTG5BdkZGME50dHB2MSIsCiAgICAgICAgICAgICJvYmplY3QiOiAibGluZV9pdGVtIiwKICAgICAgICAgICAgImFtb3VudCI6IDMwMCwKICAgICAgICAgICAgImN1cnJlbmN5IjogInVzZCIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIxIMOXIERydW1rbm90dCBUZXN0IChhdCAkMy4wMCAvIG1vbnRoKSIsCiAgICAgICAgICAgICJkaXNjb3VudF9hbW91bnRzIjogWwoKICAgICAgICAgICAgXSwKICAgICAgICAgICAgImRpc2NvdW50YWJsZSI6IHRydWUsCiAgICAgICAgICAgICJkaXNjb3VudHMiOiBbCgogICAgICAgICAgICBdLAogICAgICAgICAgICAibGl2ZW1vZGUiOiBmYWxzZSwKICAgICAgICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICAgICB9LAogICAgICAgICAgICAicGVyaW9kIjogewogICAgICAgICAgICAgICJlbmQiOiAxNjA3NDAxOTU3LAogICAgICAgICAgICAgICJzdGFydCI6IDE2MDQ4MDk5NTcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgInBsYW4iOiB7CiAgICAgICAgICAgICAgImlkIjogImRydW1rbm90dCIsCiAgICAgICAgICAgICAgIm9iamVjdCI6ICJwbGFuIiwKICAgICAgICAgICAgICAiYWN0aXZlIjogdHJ1ZSwKICAgICAgICAgICAgICAiYWdncmVnYXRlX3VzYWdlIjogbnVsbCwKICAgICAgICAgICAgICAiYW1vdW50IjogMzAwLAogICAgICAgICAgICAgICJhbW91bnRfZGVjaW1hbCI6ICIzMDAiLAogICAgICAgICAgICAgICJiaWxsaW5nX3NjaGVtZSI6ICJwZXJfdW5pdCIsCiAgICAgICAgICAgICAgImNyZWF0ZWQiOiAxNjA0ODA5OTQ3LAogICAgICAgICAgICAgICJjdXJyZW5jeSI6ICJ1c2QiLAogICAgICAgICAgICAgICJpbnRlcnZhbCI6ICJtb250aCIsCiAgICAgICAgICAgICAgImludGVydmFsX2NvdW50IjogMSwKICAgICAgICAgICAgICAibGl2ZW1vZGUiOiBmYWxzZSwKICAgICAgICAgICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAibmFtZSI6ICJEcnVta25vdHQgVGVzdCIsCiAgICAgICAgICAgICAgIm5pY2tuYW1lIjogbnVsbCwKICAgICAgICAgICAgICAicHJvZHVjdCI6ICJwcm9kX0lMbkFrSkZ3QldGUG5sIiwKICAgICAgICAgICAgICAic3RhdGVtZW50X2Rlc2NyaXB0b3IiOiBudWxsLAogICAgICAgICAgICAgICJ0aWVycyI6IG51bGwsCiAgICAgICAgICAgICAgInRpZXJzX21vZGUiOiBudWxsLAogICAgICAgICAgICAgICJ0cmFuc2Zvcm1fdXNhZ2UiOiBudWxsLAogICAgICAgICAgICAgICJ0cmlhbF9wZXJpb2RfZGF5cyI6IG51bGwsCiAgICAgICAgICAgICAgInVzYWdlX3R5cGUiOiAibGljZW5zZWQiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJwcmljZSI6IHsKICAgICAgICAgICAgICAiaWQiOiAiZHJ1bWtub3R0IiwKICAgICAgICAgICAgICAib2JqZWN0IjogInByaWNlIiwKICAgICAgICAgICAgICAiYWN0aXZlIjogdHJ1ZSwKICAgICAgICAgICAgICAiYmlsbGluZ19zY2hlbWUiOiAicGVyX3VuaXQiLAogICAgICAgICAgICAgICJjcmVhdGVkIjogMTYwNDgwOTk0NywKICAgICAgICAgICAgICAiY3VycmVuY3kiOiAidXNkIiwKICAgICAgICAgICAgICAibGl2ZW1vZGUiOiBmYWxzZSwKICAgICAgICAgICAgICAibG9va3VwX2tleSI6IG51bGwsCiAgICAgICAgICAgICAgIm1ldGFkYXRhIjogewogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIm5pY2tuYW1lIjogbnVsbCwKICAgICAgICAgICAgICAicHJvZHVjdCI6ICJwcm9kX0lMbkFrSkZ3QldGUG5sIiwKICAgICAgICAgICAgICAicmVjdXJyaW5nIjogewogICAgICAgICAgICAgICAgImFnZ3JlZ2F0ZV91c2FnZSI6IG51bGwsCiAgICAgICAgICAgICAgICAiaW50ZXJ2YWwiOiAibW9udGgiLAogICAgICAgICAgICAgICAgImludGVydmFsX2NvdW50IjogMSwKICAgICAgICAgICAgICAgICJ0cmlhbF9wZXJpb2RfZGF5cyI6IG51bGwsCiAgICAgICAgICAgICAgICAidXNhZ2VfdHlwZSI6ICJsaWNlbnNlZCIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJ0aWVyc19tb2RlIjogbnVsbCwKICAgICAgICAgICAgICAidHJhbnNmb3JtX3F1YW50aXR5IjogbnVsbCwKICAgICAgICAgICAgICAidHlwZSI6ICJyZWN1cnJpbmciLAogICAgICAgICAgICAgICJ1bml0X2Ftb3VudCI6IDMwMCwKICAgICAgICAgICAgICAidW5pdF9hbW91bnRfZGVjaW1hbCI6ICIzMDAiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJwcm9yYXRpb24iOiBmYWxzZSwKICAgICAgICAgICAgInF1YW50aXR5IjogMSwKICAgICAgICAgICAgInN1YnNjcmlwdGlvbiI6IG51bGwsCiAgICAgICAgICAgICJzdWJzY3JpcHRpb25faXRlbSI6ICJzaV9JTG5BYTRUajhRUEgyWCIsCiAgICAgICAgICAgICJ0YXhfYW1vdW50cyI6IFsKCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJ0YXhfcmF0ZXMiOiBbCgogICAgICAgICAgICBdLAogICAgICAgICAgICAidHlwZSI6ICJzdWJzY3JpcHRpb24iLAogICAgICAgICAgICAidW5pcXVlX2lkIjogImlsXzBIbDVhaWtLZTRrRnBZYmRaRTlreGtXeCIsCiAgICAgICAgICAgICJ1bmlxdWVfbGluZV9pdGVtX2lkIjogInNsaV8yNjk4ZWFhZTVjMDZlMSIKICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgICJoYXNfbW9yZSI6IGZhbHNlLAogICAgICAgICJ0b3RhbF9jb3VudCI6IDEsCiAgICAgICAgInVybCI6ICIvdjEvaW52b2ljZXMvaW5fMEhsNWFpa0tlNGtGcFliZGg2NUJPQ3JQL2xpbmVzIgogICAgICB9LAogICAgICAibGl2ZW1vZGUiOiBmYWxzZSwKICAgICAgIm1ldGFkYXRhIjogewogICAgICB9LAogICAgICAibmV4dF9wYXltZW50X2F0dGVtcHQiOiAxNjA0ODEzNjA0LAogICAgICAibnVtYmVyIjogIkNDOTZDQkFCLTAwMDIiLAogICAgICAicGFpZCI6IGZhbHNlLAogICAgICAicGF5bWVudF9pbnRlbnQiOiBudWxsLAogICAgICAicGVyaW9kX2VuZCI6IDE2MDQ4MDk5NTcsCiAgICAgICJwZXJpb2Rfc3RhcnQiOiAxNjA0ODA5OTUwLAogICAgICAicG9zdF9wYXltZW50X2NyZWRpdF9ub3Rlc19hbW91bnQiOiAwLAogICAgICAicHJlX3BheW1lbnRfY3JlZGl0X25vdGVzX2Ftb3VudCI6IDAsCiAgICAgICJyZWNlaXB0X251bWJlciI6IG51bGwsCiAgICAgICJzdGFydGluZ19iYWxhbmNlIjogMCwKICAgICAgInN0YXRlbWVudF9kZXNjcmlwdG9yIjogbnVsbCwKICAgICAgInN0YXR1cyI6ICJkcmFmdCIsCiAgICAgICJzdGF0dXNfdHJhbnNpdGlvbnMiOiB7CiAgICAgICAgImZpbmFsaXplZF9hdCI6IG51bGwsCiAgICAgICAgIm1hcmtlZF91bmNvbGxlY3RpYmxlX2F0IjogbnVsbCwKICAgICAgICAicGFpZF9hdCI6IG51bGwsCiAgICAgICAgInZvaWRlZF9hdCI6IG51bGwKICAgICAgfSwKICAgICAgInN1YnNjcmlwdGlvbiI6ICJzdWJfSUxuQXZGRjBOdHRwdjEiLAogICAgICAic3VidG90YWwiOiAzMDAsCiAgICAgICJ0YXgiOiBudWxsLAogICAgICAidGF4X3BlcmNlbnQiOiBudWxsLAogICAgICAidG90YWwiOiAzMDAsCiAgICAgICJ0b3RhbF9kaXNjb3VudF9hbW91bnRzIjogWwoKICAgICAgXSwKICAgICAgInRvdGFsX3RheF9hbW91bnRzIjogWwoKICAgICAgXSwKICAgICAgInRyYW5zZmVyX2RhdGEiOiBudWxsLAogICAgICAid2ViaG9va3NfZGVsaXZlcmVkX2F0IjogMTYwNDgxMDAwNAogICAgfSwKICAgIHsKICAgICAgImlkIjogImluXzBIbDVacWtLZTRrRnBZYmRmN0NMRVo1aSIsCiAgICAgICJvYmplY3QiOiAiaW52b2ljZSIsCiAgICAgICJhY2NvdW50X2NvdW50cnkiOiAiQVUiLAogICAgICAiYWNjb3VudF9uYW1lIjogIkRydW1rbm90dCBTZWFyY2giLAogICAgICAiYWNjb3VudF90YXhfaWRzIjogbnVsbCwKICAgICAgImFtb3VudF9kdWUiOiAwLAogICAgICAiYW1vdW50X3BhaWQiOiAwLAogICAgICAiYW1vdW50X3JlbWFpbmluZyI6IDAsCiAgICAgICJhcHBsaWNhdGlvbl9mZWUiOiBudWxsLAogICAgICAiYXR0ZW1wdF9jb3VudCI6IDAsCiAgICAgICJhdHRlbXB0ZWQiOiB0cnVlLAogICAgICAiYXV0b19hZHZhbmNlIjogZmFsc2UsCiAgICAgICJiaWxsaW5nIjogImNoYXJnZV9hdXRvbWF0aWNhbGx5IiwKICAgICAgImJpbGxpbmdfcmVhc29uIjogInN1YnNjcmlwdGlvbl91cGRhdGUiLAogICAgICAiY2hhcmdlIjogbnVsbCwKICAgICAgImNsb3NlZCI6IHRydWUsCiAgICAgICJjb2xsZWN0aW9uX21ldGhvZCI6ICJjaGFyZ2VfYXV0b21hdGljYWxseSIsCiAgICAgICJjcmVhdGVkIjogMTYwNDgwOTk1MCwKICAgICAgImN1cnJlbmN5IjogInVzZCIsCiAgICAgICJjdXN0b21fZmllbGRzIjogbnVsbCwKICAgICAgImN1c3RvbWVyIjogImN1c19JTG5BOGhFZzVxcHlVUiIsCiAgICAgICJjdXN0b21lcl9hZGRyZXNzIjogbnVsbCwKICAgICAgImN1c3RvbWVyX2VtYWlsIjogInNlYXJjaDAwMDFAZHJ1bWtub3R0c2VhcmNoLmNvbSIsCiAgICAgICJjdXN0b21lcl9uYW1lIjogbnVsbCwKICAgICAgImN1c3RvbWVyX3Bob25lIjogbnVsbCwKICAgICAgImN1c3RvbWVyX3NoaXBwaW5nIjogbnVsbCwKICAgICAgImN1c3RvbWVyX3RheF9leGVtcHQiOiAibm9uZSIsCiAgICAgICJjdXN0b21lcl90YXhfaWRzIjogWwoKICAgICAgXSwKICAgICAgImRhdGUiOiAxNjA0ODA5OTUwLAogICAgICAiZGVmYXVsdF9wYXltZW50X21ldGhvZCI6IG51bGwsCiAgICAgICJkZWZhdWx0X3NvdXJjZSI6IG51bGwsCiAgICAgICJkZWZhdWx0X3RheF9yYXRlcyI6IFsKCiAgICAgIF0sCiAgICAgICJkZXNjcmlwdGlvbiI6IG51bGwsCiAgICAgICJkaXNjb3VudCI6IG51bGwsCiAgICAgICJkaXNjb3VudHMiOiBbCgogICAgICBdLAogICAgICAiZHVlX2RhdGUiOiBudWxsLAogICAgICAiZW5kaW5nX2JhbGFuY2UiOiAwLAogICAgICAiZmluYWxpemVkX2F0IjogMTYwNDgwOTk1MCwKICAgICAgImZvb3RlciI6IG51bGwsCiAgICAgICJmb3JnaXZlbiI6IGZhbHNlLAogICAgICAiaG9zdGVkX2ludm9pY2VfdXJsIjogImh0dHBzOi8vcGF5LnN0cmlwZS5jb20vaW52b2ljZS9rS2U0a0ZwWWJkTDZ1UkY3MVRsSHZzT1F6aWJUWVJVMC9pbnZzdF9JTG5BaDFjTXYwT1hiZEphZmx6R2xOeUhNNVYwc2RVIiwKICAgICAgImludm9pY2VfcGRmIjogImh0dHBzOi8vcGF5LnN0cmlwZS5jb20vaW52b2ljZS9rS2U0a0ZwWWJkTDZ1UkY3MVRsSHZzT1F6aWJUWVJVMC9pbnZzdF9JTG5BaDFjTXYwT1hiZEphZmx6R2xOeUhNNVYwc2RVL3BkZiIsCiAgICAgICJsaW5lcyI6IHsKICAgICAgICAib2JqZWN0IjogImxpc3QiLAogICAgICAgICJkYXRhIjogWwogICAgICAgICAgewogICAgICAgICAgICAiaWQiOiAic3ViX0lMbkF2RkYwTnR0cHYxIiwKICAgICAgICAgICAgIm9iamVjdCI6ICJsaW5lX2l0ZW0iLAogICAgICAgICAgICAiYW1vdW50IjogMCwKICAgICAgICAgICAgImN1cnJlbmN5IjogInVzZCIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJUcmlhbCBwZXJpb2QgZm9yIERydW1rbm90dCBUZXN0IiwKICAgICAgICAgICAgImRpc2NvdW50X2Ftb3VudHMiOiBbCgogICAgICAgICAgICBdLAogICAgICAgICAgICAiZGlzY291bnRhYmxlIjogdHJ1ZSwKICAgICAgICAgICAgImRpc2NvdW50cyI6IFsKCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJsaXZlbW9kZSI6IGZhbHNlLAogICAgICAgICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJwZXJpb2QiOiB7CiAgICAgICAgICAgICAgImVuZCI6IDE2MDQ4MDk5NTcsCiAgICAgICAgICAgICAgInN0YXJ0IjogMTYwNDgwOTk1MAogICAgICAgICAgICB9LAogICAgICAgICAgICAicGxhbiI6IHsKICAgICAgICAgICAgICAiaWQiOiAiZHJ1bWtub3R0IiwKICAgICAgICAgICAgICAib2JqZWN0IjogInBsYW4iLAogICAgICAgICAgICAgICJhY3RpdmUiOiB0cnVlLAogICAgICAgICAgICAgICJhZ2dyZWdhdGVfdXNhZ2UiOiBudWxsLAogICAgICAgICAgICAgICJhbW91bnQiOiAzMDAsCiAgICAgICAgICAgICAgImFtb3VudF9kZWNpbWFsIjogIjMwMCIsCiAgICAgICAgICAgICAgImJpbGxpbmdfc2NoZW1lIjogInBlcl91bml0IiwKICAgICAgICAgICAgICAiY3JlYXRlZCI6IDE2MDQ4MDk5NDcsCiAgICAgICAgICAgICAgImN1cnJlbmN5IjogInVzZCIsCiAgICAgICAgICAgICAgImludGVydmFsIjogIm1vbnRoIiwKICAgICAgICAgICAgICAiaW50ZXJ2YWxfY291bnQiOiAxLAogICAgICAgICAgICAgICJsaXZlbW9kZSI6IGZhbHNlLAogICAgICAgICAgICAgICJtZXRhZGF0YSI6IHsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJuYW1lIjogIkRydW1rbm90dCBUZXN0IiwKICAgICAgICAgICAgICAibmlja25hbWUiOiBudWxsLAogICAgICAgICAgICAgICJwcm9kdWN0IjogInByb2RfSUxuQWtKRndCV0ZQbmwiLAogICAgICAgICAgICAgICJzdGF0ZW1lbnRfZGVzY3JpcHRvciI6IG51bGwsCiAgICAgICAgICAgICAgInRpZXJzIjogbnVsbCwKICAgICAgICAgICAgICAidGllcnNfbW9kZSI6IG51bGwsCiAgICAgICAgICAgICAgInRyYW5zZm9ybV91c2FnZSI6IG51bGwsCiAgICAgICAgICAgICAgInRyaWFsX3BlcmlvZF9kYXlzIjogbnVsbCwKICAgICAgICAgICAgICAidXNhZ2VfdHlwZSI6ICJsaWNlbnNlZCIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgInByaWNlIjogewogICAgICAgICAgICAgICJpZCI6ICJkcnVta25vdHQiLAogICAgICAgICAgICAgICJvYmplY3QiOiAicHJpY2UiLAogICAgICAgICAgICAgICJhY3RpdmUiOiB0cnVlLAogICAgICAgICAgICAgICJiaWxsaW5nX3NjaGVtZSI6ICJwZXJfdW5pdCIsCiAgICAgICAgICAgICAgImNyZWF0ZWQiOiAxNjA0ODA5OTQ3LAogICAgICAgICAgICAgICJjdXJyZW5jeSI6ICJ1c2QiLAogICAgICAgICAgICAgICJsaXZlbW9kZSI6IGZhbHNlLAogICAgICAgICAgICAgICJsb29rdXBfa2V5IjogbnVsbCwKICAgICAgICAgICAgICAibWV0YWRhdGEiOiB7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAibmlja25hbWUiOiBudWxsLAogICAgICAgICAgICAgICJwcm9kdWN0IjogInByb2RfSUxuQWtKRndCV0ZQbmwiLAogICAgICAgICAgICAgICJyZWN1cnJpbmciOiB7CiAgICAgICAgICAgICAgICAiYWdncmVnYXRlX3VzYWdlIjogbnVsbCwKICAgICAgICAgICAgICAgICJpbnRlcnZhbCI6ICJtb250aCIsCiAgICAgICAgICAgICAgICAiaW50ZXJ2YWxfY291bnQiOiAxLAogICAgICAgICAgICAgICAgInRyaWFsX3BlcmlvZF9kYXlzIjogbnVsbCwKICAgICAgICAgICAgICAgICJ1c2FnZV90eXBlIjogImxpY2Vuc2VkIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgInRpZXJzX21vZGUiOiBudWxsLAogICAgICAgICAgICAgICJ0cmFuc2Zvcm1fcXVhbnRpdHkiOiBudWxsLAogICAgICAgICAgICAgICJ0eXBlIjogInJlY3VycmluZyIsCiAgICAgICAgICAgICAgInVuaXRfYW1vdW50IjogMzAwLAogICAgICAgICAgICAgICJ1bml0X2Ftb3VudF9kZWNpbWFsIjogIjMwMCIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgInByb3JhdGlvbiI6IGZhbHNlLAogICAgICAgICAgICAicXVhbnRpdHkiOiAxLAogICAgICAgICAgICAic3Vic2NyaXB0aW9uIjogbnVsbCwKICAgICAgICAgICAgInN1YnNjcmlwdGlvbl9pdGVtIjogInNpX0lMbkFhNFRqOFFQSDJYIiwKICAgICAgICAgICAgInRheF9hbW91bnRzIjogWwoKICAgICAgICAgICAgXSwKICAgICAgICAgICAgInRheF9yYXRlcyI6IFsKCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJ0eXBlIjogInN1YnNjcmlwdGlvbiIsCiAgICAgICAgICAgICJ1bmlxdWVfaWQiOiAiaWxfMEhsNVpxa0tlNGtGcFliZGJoME03MTNPIiwKICAgICAgICAgICAgInVuaXF1ZV9saW5lX2l0ZW1faWQiOiAic2xpXzY4NzNjYjJhZDBiNmNmIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgImhhc19tb3JlIjogZmFsc2UsCiAgICAgICAgInRvdGFsX2NvdW50IjogMSwKICAgICAgICAidXJsIjogIi92MS9pbnZvaWNlcy9pbl8wSGw1WnFrS2U0a0ZwWWJkZjdDTEVaNWkvbGluZXMiCiAgICAgIH0sCiAgICAgICJsaXZlbW9kZSI6IGZhbHNlLAogICAgICAibWV0YWRhdGEiOiB7CiAgICAgIH0sCiAgICAgICJuZXh0X3BheW1lbnRfYXR0ZW1wdCI6IG51bGwsCiAgICAgICJudW1iZXIiOiAiQ0M5NkNCQUItMDAwMSIsCiAgICAgICJwYWlkIjogdHJ1ZSwKICAgICAgInBheW1lbnRfaW50ZW50IjogbnVsbCwKICAgICAgInBlcmlvZF9lbmQiOiAxNjA0ODA5OTUwLAogICAgICAicGVyaW9kX3N0YXJ0IjogMTYwNDgwOTk1MCwKICAgICAgInBvc3RfcGF5bWVudF9jcmVkaXRfbm90ZXNfYW1vdW50IjogMCwKICAgICAgInByZV9wYXltZW50X2NyZWRpdF9ub3Rlc19hbW91bnQiOiAwLAogICAgICAicmVjZWlwdF9udW1iZXIiOiBudWxsLAogICAgICAic3RhcnRpbmdfYmFsYW5jZSI6IDAsCiAgICAgICJzdGF0ZW1lbnRfZGVzY3JpcHRvciI6IG51bGwsCiAgICAgICJzdGF0dXMiOiAicGFpZCIsCiAgICAgICJzdGF0dXNfdHJhbnNpdGlvbnMiOiB7CiAgICAgICAgImZpbmFsaXplZF9hdCI6IDE2MDQ4MDk5NTAsCiAgICAgICAgIm1hcmtlZF91bmNvbGxlY3RpYmxlX2F0IjogbnVsbCwKICAgICAgICAicGFpZF9hdCI6IDE2MDQ4MDk5NTAsCiAgICAgICAgInZvaWRlZF9hdCI6IG51bGwKICAgICAgfSwKICAgICAgInN1YnNjcmlwdGlvbiI6ICJzdWJfSUxuQXZGRjBOdHRwdjEiLAogICAgICAic3VidG90YWwiOiAwLAogICAgICAidGF4IjogbnVsbCwKICAgICAgInRheF9wZXJjZW50IjogbnVsbCwKICAgICAgInRvdGFsIjogMCwKICAgICAgInRvdGFsX2Rpc2NvdW50X2Ftb3VudHMiOiBbCgogICAgICBdLAogICAgICAidG90YWxfdGF4X2Ftb3VudHMiOiBbCgogICAgICBdLAogICAgICAidHJhbnNmZXJfZGF0YSI6IG51bGwsCiAgICAgICJ3ZWJob29rc19kZWxpdmVyZWRfYXQiOiAxNjA0ODA5OTUwCiAgICB9CiAgXSwKICAiaGFzX21vcmUiOiBmYWxzZSwKICAidXJsIjogIi92MS9pbnZvaWNlcyIKfQo=
  recorded_at: Sun, 08 Nov 2020 04:38:32 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/invoices/in_0Hl5aikKe4kFpYbdh65BOCrP/pay
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_3pJWGSD1eL0XcX","request_duration_ms":404}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 402
      message: Payment Required
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:38:34 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '7904'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_MTiFw7l1LPNLYc
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "error": {
            "charge": "ch_0Hl5fhkKe4kFpYbdpMEIRPQa",
            "code": "card_declined",
            "decline_code": "generic_decline",
            "doc_url": "https://stripe.com/docs/error-codes/card-declined",
            "message": "Your card was declined.",
            "payment_intent": {
              "id": "pi_0Hl5fhkKe4kFpYbd76K7Z0EW",
              "object": "payment_intent",
              "allowed_source_types": [
                "card"
              ],
              "amount": 300,
              "amount_capturable": 0,
              "amount_received": 0,
              "application": null,
              "application_fee_amount": null,
              "canceled_at": null,
              "cancellation_reason": null,
              "capture_method": "automatic",
              "charges": {
                "object": "list",
                "data": [
                  {
                    "id": "ch_0Hl5fhkKe4kFpYbdpMEIRPQa",
                    "object": "charge",
                    "amount": 300,
                    "amount_captured": 0,
                    "amount_refunded": 0,
                    "application": null,
                    "application_fee": null,
                    "application_fee_amount": null,
                    "balance_transaction": null,
                    "billing_details": {
                      "address": {
                        "city": null,
                        "country": null,
                        "line1": null,
                        "line2": null,
                        "postal_code": null,
                        "state": null
                      },
                      "email": null,
                      "name": null,
                      "phone": null
                    },
                    "calculated_statement_descriptor": "DRUMKNOTT",
                    "captured": false,
                    "created": 1604810313,
                    "currency": "usd",
                    "customer": "cus_ILnA8hEg5qpyUR",
                    "description": "Invoice CC96CBAB-0002",
                    "destination": null,
                    "dispute": null,
                    "disputed": false,
                    "failure_code": "card_declined",
                    "failure_message": "Your card was declined.",
                    "fraud_details": {
                    },
                    "invoice": "in_0Hl5aikKe4kFpYbdh65BOCrP",
                    "livemode": false,
                    "metadata": {
                    },
                    "on_behalf_of": null,
                    "order": null,
                    "outcome": {
                      "network_status": "declined_by_network",
                      "reason": "generic_decline",
                      "risk_level": "normal",
                      "risk_score": 37,
                      "seller_message": "The bank did not return any further details with this decline.",
                      "type": "issuer_declined"
                    },
                    "paid": false,
                    "payment_intent": "pi_0Hl5fhkKe4kFpYbd76K7Z0EW",
                    "payment_method": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
                    "payment_method_details": {
                      "card": {
                        "brand": "visa",
                        "checks": {
                          "address_line1_check": null,
                          "address_postal_code_check": null,
                          "cvc_check": "pass"
                        },
                        "country": "US",
                        "exp_month": 1,
                        "exp_year": 2022,
                        "fingerprint": "22Vkbw4tr8xDhC2Q",
                        "funding": "credit",
                        "installments": null,
                        "last4": "0341",
                        "network": "visa",
                        "three_d_secure": null,
                        "wallet": null
                      },
                      "type": "card"
                    },
                    "receipt_email": null,
                    "receipt_number": null,
                    "receipt_url": null,
                    "refunded": false,
                    "refunds": {
                      "object": "list",
                      "data": [

                      ],
                      "has_more": false,
                      "total_count": 0,
                      "url": "/v1/charges/ch_0Hl5fhkKe4kFpYbdpMEIRPQa/refunds"
                    },
                    "review": null,
                    "shipping": null,
                    "source": {
                      "id": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
                      "object": "card",
                      "address_city": null,
                      "address_country": null,
                      "address_line1": null,
                      "address_line1_check": null,
                      "address_line2": null,
                      "address_state": null,
                      "address_zip": null,
                      "address_zip_check": null,
                      "brand": "Visa",
                      "country": "US",
                      "customer": "cus_ILnA8hEg5qpyUR",
                      "cvc_check": "pass",
                      "dynamic_last4": null,
                      "exp_month": 1,
                      "exp_year": 2022,
                      "fingerprint": "22Vkbw4tr8xDhC2Q",
                      "funding": "credit",
                      "last4": "0341",
                      "metadata": {
                      },
                      "name": null,
                      "tokenization_method": null
                    },
                    "source_transfer": null,
                    "statement_descriptor": null,
                    "statement_descriptor_suffix": null,
                    "status": "failed",
                    "transfer_data": null,
                    "transfer_group": null
                  }
                ],
                "has_more": false,
                "total_count": 1,
                "url": "/v1/charges?payment_intent=pi_0Hl5fhkKe4kFpYbd76K7Z0EW"
              },
              "client_secret": "pi_0Hl5fhkKe4kFpYbd76K7Z0EW_secret_lhTevQZGEyqCiQu7VB3IUMBKv",
              "confirmation_method": "automatic",
              "created": 1604810313,
              "currency": "usd",
              "customer": "cus_ILnA8hEg5qpyUR",
              "description": "Invoice CC96CBAB-0002",
              "invoice": "in_0Hl5aikKe4kFpYbdh65BOCrP",
              "last_payment_error": {
                "charge": "ch_0Hl5fhkKe4kFpYbdpMEIRPQa",
                "code": "card_declined",
                "decline_code": "generic_decline",
                "doc_url": "https://stripe.com/docs/error-codes/card-declined",
                "message": "Your card was declined.",
                "source": {
                  "id": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
                  "object": "card",
                  "address_city": null,
                  "address_country": null,
                  "address_line1": null,
                  "address_line1_check": null,
                  "address_line2": null,
                  "address_state": null,
                  "address_zip": null,
                  "address_zip_check": null,
                  "brand": "Visa",
                  "country": "US",
                  "customer": "cus_ILnA8hEg5qpyUR",
                  "cvc_check": "pass",
                  "dynamic_last4": null,
                  "exp_month": 1,
                  "exp_year": 2022,
                  "fingerprint": "22Vkbw4tr8xDhC2Q",
                  "funding": "credit",
                  "last4": "0341",
                  "metadata": {
                  },
                  "name": null,
                  "tokenization_method": null
                },
                "type": "card_error"
              },
              "livemode": false,
              "metadata": {
              },
              "next_action": null,
              "next_source_action": null,
              "on_behalf_of": null,
              "payment_method": null,
              "payment_method_options": {
                "card": {
                  "installments": null,
                  "network": null,
                  "request_three_d_secure": "automatic"
                }
              },
              "payment_method_types": [
                "card"
              ],
              "receipt_email": null,
              "review": null,
              "setup_future_usage": null,
              "shipping": null,
              "source": null,
              "statement_descriptor": null,
              "statement_descriptor_suffix": null,
              "status": "requires_source",
              "transfer_data": null,
              "transfer_group": null
            },
            "source": {
              "id": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
              "object": "card",
              "address_city": null,
              "address_country": null,
              "address_line1": null,
              "address_line1_check": null,
              "address_line2": null,
              "address_state": null,
              "address_zip": null,
              "address_zip_check": null,
              "brand": "Visa",
              "country": "US",
              "customer": "cus_ILnA8hEg5qpyUR",
              "cvc_check": "pass",
              "dynamic_last4": null,
              "exp_month": 1,
              "exp_year": 2022,
              "fingerprint": "22Vkbw4tr8xDhC2Q",
              "funding": "credit",
              "last4": "0341",
              "metadata": {
              },
              "name": null,
              "tokenization_method": null
            },
            "type": "card_error"
          }
        }
  recorded_at: Sun, 08 Nov 2020 04:38:34 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/tokens
    body:
      encoding: UTF-8
      string: card[number]=5555555555554444&card[exp_month]=1&card[exp_year]=2022&card[cvc]=123
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_3pJWGSD1eL0XcX","request_duration_ms":404}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:38:34 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '792'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_oH58TYVlfO22cM
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "tok_0Hl5fikKe4kFpYbdDoi7VMIG",
          "object": "token",
          "card": {
            "id": "card_0Hl5fikKe4kFpYbdlBC3u6sR",
            "object": "card",
            "address_city": null,
            "address_country": null,
            "address_line1": null,
            "address_line1_check": null,
            "address_line2": null,
            "address_state": null,
            "address_zip": null,
            "address_zip_check": null,
            "brand": "MasterCard",
            "country": "US",
            "cvc_check": "unchecked",
            "dynamic_last4": null,
            "exp_month": 1,
            "exp_year": 2022,
            "fingerprint": "u2XCpbKocAAd1E7E",
            "funding": "credit",
            "last4": "4444",
            "metadata": {
            },
            "name": null,
            "tokenization_method": null
          },
          "client_ip": "180.150.37.105",
          "created": 1604810314,
          "livemode": false,
          "type": "card",
          "used": false
        }
  recorded_at: Sun, 08 Nov 2020 04:38:34 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/customers/cus_ILnA8hEg5qpyUR
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_oH58TYVlfO22cM","request_duration_ms":502}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:38:35 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '6544'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_vI44tURlhnv67E
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "cus_ILnA8hEg5qpyUR",
          "object": "customer",
          "account_balance": 0,
          "address": null,
          "balance": 0,
          "created": 1604809948,
          "currency": "usd",
          "default_source": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
          "delinquent": true,
          "description": null,
          "discount": null,
          "email": "search0001@drumknottsearch.com",
          "invoice_prefix": "CC96CBAB",
          "invoice_settings": {
            "custom_fields": null,
            "default_payment_method": null,
            "footer": null
          },
          "livemode": false,
          "metadata": {
          },
          "name": null,
          "next_invoice_sequence": 3,
          "phone": null,
          "preferred_locales": [

          ],
          "shipping": null,
          "sources": {
            "object": "list",
            "data": [
              {
                "id": "card_0Hl5ZokKe4kFpYbd6lCTKb5o",
                "object": "card",
                "address_city": null,
                "address_country": null,
                "address_line1": null,
                "address_line1_check": null,
                "address_line2": null,
                "address_state": null,
                "address_zip": null,
                "address_zip_check": null,
                "brand": "Visa",
                "country": "US",
                "customer": "cus_ILnA8hEg5qpyUR",
                "cvc_check": "pass",
                "dynamic_last4": null,
                "exp_month": 1,
                "exp_year": 2022,
                "fingerprint": "22Vkbw4tr8xDhC2Q",
                "funding": "credit",
                "last4": "0341",
                "metadata": {
                },
                "name": null,
                "tokenization_method": null
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/sources"
          },
          "subscriptions": {
            "object": "list",
            "data": [
              {
                "id": "sub_ILnAvFF0Nttpv1",
                "object": "subscription",
                "application_fee_percent": null,
                "billing": "charge_automatically",
                "billing_cycle_anchor": 1604809957,
                "billing_thresholds": null,
                "cancel_at": null,
                "cancel_at_period_end": false,
                "canceled_at": null,
                "collection_method": "charge_automatically",
                "created": 1604809950,
                "current_period_end": 1607401957,
                "current_period_start": 1604809957,
                "customer": "cus_ILnA8hEg5qpyUR",
                "days_until_due": null,
                "default_payment_method": null,
                "default_source": null,
                "default_tax_rates": [

                ],
                "discount": null,
                "ended_at": null,
                "invoice_customer_balance_settings": {
                  "consume_applied_balance_on_void": true
                },
                "items": {
                  "object": "list",
                  "data": [
                    {
                      "id": "si_ILnAa4Tj8QPH2X",
                      "object": "subscription_item",
                      "billing_thresholds": null,
                      "created": 1604809951,
                      "metadata": {
                      },
                      "plan": {
                        "id": "drumknott",
                        "object": "plan",
                        "active": true,
                        "aggregate_usage": null,
                        "amount": 300,
                        "amount_decimal": "300",
                        "billing_scheme": "per_unit",
                        "created": 1604809947,
                        "currency": "usd",
                        "interval": "month",
                        "interval_count": 1,
                        "livemode": false,
                        "metadata": {
                        },
                        "name": "Drumknott Test",
                        "nickname": null,
                        "product": "prod_ILnAkJFwBWFPnl",
                        "statement_descriptor": null,
                        "tiers": null,
                        "tiers_mode": null,
                        "transform_usage": null,
                        "trial_period_days": null,
                        "usage_type": "licensed"
                      },
                      "price": {
                        "id": "drumknott",
                        "object": "price",
                        "active": true,
                        "billing_scheme": "per_unit",
                        "created": 1604809947,
                        "currency": "usd",
                        "livemode": false,
                        "lookup_key": null,
                        "metadata": {
                        },
                        "nickname": null,
                        "product": "prod_ILnAkJFwBWFPnl",
                        "recurring": {
                          "aggregate_usage": null,
                          "interval": "month",
                          "interval_count": 1,
                          "trial_period_days": null,
                          "usage_type": "licensed"
                        },
                        "tiers_mode": null,
                        "transform_quantity": null,
                        "type": "recurring",
                        "unit_amount": 300,
                        "unit_amount_decimal": "300"
                      },
                      "quantity": 1,
                      "subscription": "sub_ILnAvFF0Nttpv1",
                      "tax_rates": [

                      ]
                    }
                  ],
                  "has_more": false,
                  "total_count": 1,
                  "url": "/v1/subscription_items?subscription=sub_ILnAvFF0Nttpv1"
                },
                "latest_invoice": "in_0Hl5aikKe4kFpYbdh65BOCrP",
                "livemode": false,
                "metadata": {
                },
                "next_pending_invoice_item_invoice": null,
                "pause_collection": null,
                "pending_invoice_item_interval": null,
                "pending_setup_intent": null,
                "pending_update": null,
                "plan": {
                  "id": "drumknott",
                  "object": "plan",
                  "active": true,
                  "aggregate_usage": null,
                  "amount": 300,
                  "amount_decimal": "300",
                  "billing_scheme": "per_unit",
                  "created": 1604809947,
                  "currency": "usd",
                  "interval": "month",
                  "interval_count": 1,
                  "livemode": false,
                  "metadata": {
                  },
                  "name": "Drumknott Test",
                  "nickname": null,
                  "product": "prod_ILnAkJFwBWFPnl",
                  "statement_descriptor": null,
                  "tiers": null,
                  "tiers_mode": null,
                  "transform_usage": null,
                  "trial_period_days": null,
                  "usage_type": "licensed"
                },
                "quantity": 1,
                "schedule": null,
                "start": 1604809950,
                "start_date": 1604809950,
                "status": "past_due",
                "tax_percent": null,
                "transfer_data": null,
                "trial_end": 1604809957,
                "trial_start": 1604809950
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/subscriptions"
          },
          "tax_exempt": "none",
          "tax_ids": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/tax_ids"
          },
          "tax_info": null,
          "tax_info_verification": null
        }
  recorded_at: Sun, 08 Nov 2020 04:38:35 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/customers/cus_ILnA8hEg5qpyUR
    body:
      encoding: UTF-8
      string: source=tok_0Hl5fikKe4kFpYbdDoi7VMIG
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_vI44tURlhnv67E","request_duration_ms":409}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:38:36 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '6550'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_f0PuaydF4VX8iV
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "cus_ILnA8hEg5qpyUR",
          "object": "customer",
          "account_balance": 0,
          "address": null,
          "balance": 0,
          "created": 1604809948,
          "currency": "usd",
          "default_source": "card_0Hl5fikKe4kFpYbdlBC3u6sR",
          "delinquent": true,
          "description": null,
          "discount": null,
          "email": "search0001@drumknottsearch.com",
          "invoice_prefix": "CC96CBAB",
          "invoice_settings": {
            "custom_fields": null,
            "default_payment_method": null,
            "footer": null
          },
          "livemode": false,
          "metadata": {
          },
          "name": null,
          "next_invoice_sequence": 3,
          "phone": null,
          "preferred_locales": [

          ],
          "shipping": null,
          "sources": {
            "object": "list",
            "data": [
              {
                "id": "card_0Hl5fikKe4kFpYbdlBC3u6sR",
                "object": "card",
                "address_city": null,
                "address_country": null,
                "address_line1": null,
                "address_line1_check": null,
                "address_line2": null,
                "address_state": null,
                "address_zip": null,
                "address_zip_check": null,
                "brand": "MasterCard",
                "country": "US",
                "customer": "cus_ILnA8hEg5qpyUR",
                "cvc_check": "pass",
                "dynamic_last4": null,
                "exp_month": 1,
                "exp_year": 2022,
                "fingerprint": "u2XCpbKocAAd1E7E",
                "funding": "credit",
                "last4": "4444",
                "metadata": {
                },
                "name": null,
                "tokenization_method": null
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/sources"
          },
          "subscriptions": {
            "object": "list",
            "data": [
              {
                "id": "sub_ILnAvFF0Nttpv1",
                "object": "subscription",
                "application_fee_percent": null,
                "billing": "charge_automatically",
                "billing_cycle_anchor": 1604809957,
                "billing_thresholds": null,
                "cancel_at": null,
                "cancel_at_period_end": false,
                "canceled_at": null,
                "collection_method": "charge_automatically",
                "created": 1604809950,
                "current_period_end": 1607401957,
                "current_period_start": 1604809957,
                "customer": "cus_ILnA8hEg5qpyUR",
                "days_until_due": null,
                "default_payment_method": null,
                "default_source": null,
                "default_tax_rates": [

                ],
                "discount": null,
                "ended_at": null,
                "invoice_customer_balance_settings": {
                  "consume_applied_balance_on_void": true
                },
                "items": {
                  "object": "list",
                  "data": [
                    {
                      "id": "si_ILnAa4Tj8QPH2X",
                      "object": "subscription_item",
                      "billing_thresholds": null,
                      "created": 1604809951,
                      "metadata": {
                      },
                      "plan": {
                        "id": "drumknott",
                        "object": "plan",
                        "active": true,
                        "aggregate_usage": null,
                        "amount": 300,
                        "amount_decimal": "300",
                        "billing_scheme": "per_unit",
                        "created": 1604809947,
                        "currency": "usd",
                        "interval": "month",
                        "interval_count": 1,
                        "livemode": false,
                        "metadata": {
                        },
                        "name": "Drumknott Test",
                        "nickname": null,
                        "product": "prod_ILnAkJFwBWFPnl",
                        "statement_descriptor": null,
                        "tiers": null,
                        "tiers_mode": null,
                        "transform_usage": null,
                        "trial_period_days": null,
                        "usage_type": "licensed"
                      },
                      "price": {
                        "id": "drumknott",
                        "object": "price",
                        "active": true,
                        "billing_scheme": "per_unit",
                        "created": 1604809947,
                        "currency": "usd",
                        "livemode": false,
                        "lookup_key": null,
                        "metadata": {
                        },
                        "nickname": null,
                        "product": "prod_ILnAkJFwBWFPnl",
                        "recurring": {
                          "aggregate_usage": null,
                          "interval": "month",
                          "interval_count": 1,
                          "trial_period_days": null,
                          "usage_type": "licensed"
                        },
                        "tiers_mode": null,
                        "transform_quantity": null,
                        "type": "recurring",
                        "unit_amount": 300,
                        "unit_amount_decimal": "300"
                      },
                      "quantity": 1,
                      "subscription": "sub_ILnAvFF0Nttpv1",
                      "tax_rates": [

                      ]
                    }
                  ],
                  "has_more": false,
                  "total_count": 1,
                  "url": "/v1/subscription_items?subscription=sub_ILnAvFF0Nttpv1"
                },
                "latest_invoice": "in_0Hl5aikKe4kFpYbdh65BOCrP",
                "livemode": false,
                "metadata": {
                },
                "next_pending_invoice_item_invoice": null,
                "pause_collection": null,
                "pending_invoice_item_interval": null,
                "pending_setup_intent": null,
                "pending_update": null,
                "plan": {
                  "id": "drumknott",
                  "object": "plan",
                  "active": true,
                  "aggregate_usage": null,
                  "amount": 300,
                  "amount_decimal": "300",
                  "billing_scheme": "per_unit",
                  "created": 1604809947,
                  "currency": "usd",
                  "interval": "month",
                  "interval_count": 1,
                  "livemode": false,
                  "metadata": {
                  },
                  "name": "Drumknott Test",
                  "nickname": null,
                  "product": "prod_ILnAkJFwBWFPnl",
                  "statement_descriptor": null,
                  "tiers": null,
                  "tiers_mode": null,
                  "transform_usage": null,
                  "trial_period_days": null,
                  "usage_type": "licensed"
                },
                "quantity": 1,
                "schedule": null,
                "start": 1604809950,
                "start_date": 1604809950,
                "status": "past_due",
                "tax_percent": null,
                "transfer_data": null,
                "trial_end": 1604809957,
                "trial_start": 1604809950
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/subscriptions"
          },
          "tax_exempt": "none",
          "tax_ids": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/tax_ids"
          },
          "tax_info": null,
          "tax_info_verification": null
        }
  recorded_at: Sun, 08 Nov 2020 04:38:36 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/customers/cus_ILnA8hEg5qpyUR
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_f0PuaydF4VX8iV","request_duration_ms":908}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:40:36 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '6549'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_F2b6wvvJsQuZyj
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "cus_ILnA8hEg5qpyUR",
          "object": "customer",
          "account_balance": 0,
          "address": null,
          "balance": 0,
          "created": 1604809948,
          "currency": "usd",
          "default_source": "card_0Hl5fikKe4kFpYbdlBC3u6sR",
          "delinquent": false,
          "description": null,
          "discount": null,
          "email": "search0001@drumknottsearch.com",
          "invoice_prefix": "CC96CBAB",
          "invoice_settings": {
            "custom_fields": null,
            "default_payment_method": null,
            "footer": null
          },
          "livemode": false,
          "metadata": {
          },
          "name": null,
          "next_invoice_sequence": 3,
          "phone": null,
          "preferred_locales": [

          ],
          "shipping": null,
          "sources": {
            "object": "list",
            "data": [
              {
                "id": "card_0Hl5fikKe4kFpYbdlBC3u6sR",
                "object": "card",
                "address_city": null,
                "address_country": null,
                "address_line1": null,
                "address_line1_check": null,
                "address_line2": null,
                "address_state": null,
                "address_zip": null,
                "address_zip_check": null,
                "brand": "MasterCard",
                "country": "US",
                "customer": "cus_ILnA8hEg5qpyUR",
                "cvc_check": "pass",
                "dynamic_last4": null,
                "exp_month": 1,
                "exp_year": 2022,
                "fingerprint": "u2XCpbKocAAd1E7E",
                "funding": "credit",
                "last4": "4444",
                "metadata": {
                },
                "name": null,
                "tokenization_method": null
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/sources"
          },
          "subscriptions": {
            "object": "list",
            "data": [
              {
                "id": "sub_ILnAvFF0Nttpv1",
                "object": "subscription",
                "application_fee_percent": null,
                "billing": "charge_automatically",
                "billing_cycle_anchor": 1604809957,
                "billing_thresholds": null,
                "cancel_at": null,
                "cancel_at_period_end": false,
                "canceled_at": null,
                "collection_method": "charge_automatically",
                "created": 1604809950,
                "current_period_end": 1607401957,
                "current_period_start": 1604809957,
                "customer": "cus_ILnA8hEg5qpyUR",
                "days_until_due": null,
                "default_payment_method": null,
                "default_source": null,
                "default_tax_rates": [

                ],
                "discount": null,
                "ended_at": null,
                "invoice_customer_balance_settings": {
                  "consume_applied_balance_on_void": true
                },
                "items": {
                  "object": "list",
                  "data": [
                    {
                      "id": "si_ILnAa4Tj8QPH2X",
                      "object": "subscription_item",
                      "billing_thresholds": null,
                      "created": 1604809951,
                      "metadata": {
                      },
                      "plan": {
                        "id": "drumknott",
                        "object": "plan",
                        "active": true,
                        "aggregate_usage": null,
                        "amount": 300,
                        "amount_decimal": "300",
                        "billing_scheme": "per_unit",
                        "created": 1604809947,
                        "currency": "usd",
                        "interval": "month",
                        "interval_count": 1,
                        "livemode": false,
                        "metadata": {
                        },
                        "name": "Drumknott Test",
                        "nickname": null,
                        "product": "prod_ILnAkJFwBWFPnl",
                        "statement_descriptor": null,
                        "tiers": null,
                        "tiers_mode": null,
                        "transform_usage": null,
                        "trial_period_days": null,
                        "usage_type": "licensed"
                      },
                      "price": {
                        "id": "drumknott",
                        "object": "price",
                        "active": true,
                        "billing_scheme": "per_unit",
                        "created": 1604809947,
                        "currency": "usd",
                        "livemode": false,
                        "lookup_key": null,
                        "metadata": {
                        },
                        "nickname": null,
                        "product": "prod_ILnAkJFwBWFPnl",
                        "recurring": {
                          "aggregate_usage": null,
                          "interval": "month",
                          "interval_count": 1,
                          "trial_period_days": null,
                          "usage_type": "licensed"
                        },
                        "tiers_mode": null,
                        "transform_quantity": null,
                        "type": "recurring",
                        "unit_amount": 300,
                        "unit_amount_decimal": "300"
                      },
                      "quantity": 1,
                      "subscription": "sub_ILnAvFF0Nttpv1",
                      "tax_rates": [

                      ]
                    }
                  ],
                  "has_more": false,
                  "total_count": 1,
                  "url": "/v1/subscription_items?subscription=sub_ILnAvFF0Nttpv1"
                },
                "latest_invoice": "in_0Hl5aikKe4kFpYbdh65BOCrP",
                "livemode": false,
                "metadata": {
                },
                "next_pending_invoice_item_invoice": null,
                "pause_collection": null,
                "pending_invoice_item_interval": null,
                "pending_setup_intent": null,
                "pending_update": null,
                "plan": {
                  "id": "drumknott",
                  "object": "plan",
                  "active": true,
                  "aggregate_usage": null,
                  "amount": 300,
                  "amount_decimal": "300",
                  "billing_scheme": "per_unit",
                  "created": 1604809947,
                  "currency": "usd",
                  "interval": "month",
                  "interval_count": 1,
                  "livemode": false,
                  "metadata": {
                  },
                  "name": "Drumknott Test",
                  "nickname": null,
                  "product": "prod_ILnAkJFwBWFPnl",
                  "statement_descriptor": null,
                  "tiers": null,
                  "tiers_mode": null,
                  "transform_usage": null,
                  "trial_period_days": null,
                  "usage_type": "licensed"
                },
                "quantity": 1,
                "schedule": null,
                "start": 1604809950,
                "start_date": 1604809950,
                "status": "active",
                "tax_percent": null,
                "transfer_data": null,
                "trial_end": 1604809957,
                "trial_start": 1604809950
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/subscriptions"
          },
          "tax_exempt": "none",
          "tax_ids": {
            "object": "list",
            "data": [

            ],
            "has_more": false,
            "total_count": 0,
            "url": "/v1/customers/cus_ILnA8hEg5qpyUR/tax_ids"
          },
          "tax_info": null,
          "tax_info_verification": null
        }
  recorded_at: Sun, 08 Nov 2020 04:40:36 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/customers/cus_ILnA8hEg5qpyUR/subscriptions/sub_ILnAvFF0Nttpv1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/5.28.0
      Authorization:
      - Bearer aAcnj1rwUlr0eRc4MrHxFvsye3Dd4GXU
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_F2b6wvvJsQuZyj","request_duration_ms":410}}'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"5.28.0","lang":"ruby","lang_version":"2.7.2 p137 (2020-10-01)","platform":"x86_64-darwin19","engine":"ruby","publisher":"stripe","uname":"Darwin
        pat 19.6.0 Darwin Kernel Version 19.6.0: Mon Aug 31 22:12:52 PDT 2020; root:xnu-6153.141.2~1/RELEASE_X86_64
        x86_64","hostname":"pat"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Sun, 08 Nov 2020 04:40:36 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '3766'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Request-Id:
      - req_X2u2svSKMwoD1S
      Stripe-Version:
      - '2017-12-14'
      Strict-Transport-Security:
      - max-age=31556926; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |
        {
          "id": "sub_ILnAvFF0Nttpv1",
          "object": "subscription",
          "application_fee_percent": null,
          "billing": "charge_automatically",
          "billing_cycle_anchor": 1604809957,
          "billing_thresholds": null,
          "cancel_at": null,
          "cancel_at_period_end": false,
          "canceled_at": null,
          "collection_method": "charge_automatically",
          "created": 1604809950,
          "current_period_end": 1607401957,
          "current_period_start": 1604809957,
          "customer": "cus_ILnA8hEg5qpyUR",
          "days_until_due": null,
          "default_payment_method": null,
          "default_source": null,
          "default_tax_rates": [

          ],
          "discount": null,
          "ended_at": null,
          "invoice_customer_balance_settings": {
            "consume_applied_balance_on_void": true
          },
          "items": {
            "object": "list",
            "data": [
              {
                "id": "si_ILnAa4Tj8QPH2X",
                "object": "subscription_item",
                "billing_thresholds": null,
                "created": 1604809951,
                "metadata": {
                },
                "plan": {
                  "id": "drumknott",
                  "object": "plan",
                  "active": true,
                  "aggregate_usage": null,
                  "amount": 300,
                  "amount_decimal": "300",
                  "billing_scheme": "per_unit",
                  "created": 1604809947,
                  "currency": "usd",
                  "interval": "month",
                  "interval_count": 1,
                  "livemode": false,
                  "metadata": {
                  },
                  "name": "Drumknott Test",
                  "nickname": null,
                  "product": "prod_ILnAkJFwBWFPnl",
                  "statement_descriptor": null,
                  "tiers": null,
                  "tiers_mode": null,
                  "transform_usage": null,
                  "trial_period_days": null,
                  "usage_type": "licensed"
                },
                "price": {
                  "id": "drumknott",
                  "object": "price",
                  "active": true,
                  "billing_scheme": "per_unit",
                  "created": 1604809947,
                  "currency": "usd",
                  "livemode": false,
                  "lookup_key": null,
                  "metadata": {
                  },
                  "nickname": null,
                  "product": "prod_ILnAkJFwBWFPnl",
                  "recurring": {
                    "aggregate_usage": null,
                    "interval": "month",
                    "interval_count": 1,
                    "trial_period_days": null,
                    "usage_type": "licensed"
                  },
                  "tiers_mode": null,
                  "transform_quantity": null,
                  "type": "recurring",
                  "unit_amount": 300,
                  "unit_amount_decimal": "300"
                },
                "quantity": 1,
                "subscription": "sub_ILnAvFF0Nttpv1",
                "tax_rates": [

                ]
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/subscription_items?subscription=sub_ILnAvFF0Nttpv1"
          },
          "latest_invoice": "in_0Hl5aikKe4kFpYbdh65BOCrP",
          "livemode": false,
          "metadata": {
          },
          "next_pending_invoice_item_invoice": null,
          "pause_collection": null,
          "pending_invoice_item_interval": null,
          "pending_setup_intent": null,
          "pending_update": null,
          "plan": {
            "id": "drumknott",
            "object": "plan",
            "active": true,
            "aggregate_usage": null,
            "amount": 300,
            "amount_decimal": "300",
            "billing_scheme": "per_unit",
            "created": 1604809947,
            "currency": "usd",
            "interval": "month",
            "interval_count": 1,
            "livemode": false,
            "metadata": {
            },
            "name": "Drumknott Test",
            "nickname": null,
            "product": "prod_ILnAkJFwBWFPnl",
            "statement_descriptor": null,
            "tiers": null,
            "tiers_mode": null,
            "transform_usage": null,
            "trial_period_days": null,
            "usage_type": "licensed"
          },
          "quantity": 1,
          "schedule": null,
          "start": 1604809950,
          "start_date": 1604809950,
          "status": "active",
          "tax_percent": null,
          "transfer_data": null,
          "trial_end": 1604809957,
          "trial_start": 1604809950
        }
  recorded_at: Sun, 08 Nov 2020 04:40:36 GMT
recorded_with: VCR 6.0.0
